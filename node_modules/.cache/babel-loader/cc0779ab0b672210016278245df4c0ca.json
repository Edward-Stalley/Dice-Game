{"ast":null,"code":"var _jsxFileName = \"/Users/Thelazyboon/Documents/GitHub/Dice-Game-Done/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Die from \"./Die\";\nimport \"./style.css\";\nimport { nanoid } from \"nanoid\";\nimport Confetti from \"react-confetti\";\nimport swal from \"sweetalert\";\nimport Question from \"./Question.js\";\nimport HighScores from \"./HighScores\";\nimport Highscore from \"./HighScore\"; // extra ideas\n// track number of rolls\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // make date\n  // const date = new Date().getMilliseconds();\n  // make random number\n  function randomNumberCreator(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  } // let randomNumber;\n  //----------------------------- #method B (my original way)\n  // const dice = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n  // const diceElements = dice.map((die) => {\n  //   randomNumber = randomNumberCreator(0, 6);\n  //   return <Die key={`die ${die + date}  `} value={randomNumber} />;\n  // });\n  //--------------------------- #method A (teacher's way\n\n\n  let random;\n  const [dice, setDice] = React.useState(allNewDice());\n  const [isHeld, setIsHeld] = React.useState(false);\n  const [tenzies, setTenzies] = React.useState(false);\n\n  function generateNewDie() {\n    random = Math.ceil(Math.random() * 6);\n    return {\n      isHeld: false,\n      value: random,\n      id: nanoid()\n    };\n  }\n\n  function allNewDice() {\n    const newDice = [];\n\n    for (let i = 0; i < 10; i++) {\n      newDice.push(generateNewDie());\n    }\n\n    return newDice;\n  }\n\n  const diceEl = dice.map(die => /*#__PURE__*/_jsxDEV(Die, {\n    value: die.value,\n    isHeld: die.isHeld,\n    holdDice: () => holdDice(die.id)\n  }, die.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this));\n\n  function holdDice(id) {\n    setDice(oldDice => oldDice.map(die => {\n      return die.id === id ? { ...die,\n        isHeld: !die.isHeld\n      } : die;\n    }));\n  }\n\n  localStorage.clear();\n\n  function roll() {\n    counter == 0 && setCounter(gameTime);\n    setDice(oldDice => oldDice.map(die => {\n      return die.isHeld === true ? die : generateNewDie();\n    }));\n  } // New Feature - save the best times to local storage\n  // const storedTime = localStorage.getItem(\"recordTime\");\n\n\n  const [recordTime, setRecordTime] = React.useState(localStorage.getItem(\"recordTime\"));\n  localStorage.setItem(\"recordTime\", recordTime); // localStorage.setItem(\"recordTime\", recordTime);\n  // setRecordTime(storedTime);\n  //\n\n  function endGame() {\n    if (dice.every(die => die.value === dice[0].value && die.isHeld === true)) {\n      setTenzies(true);\n      swal(\"祝贺你，安妮，你赢得了一张晚餐的优惠券。\");\n      setRecordTime(gameTime - counter);\n      localStorage.setItem(\"recordTime\", recordTime);\n    }\n  }\n\n  const [counter, setCounter] = React.useState(\"\");\n  const gameTime = 15;\n\n  function newGame() {\n    console.log(\"new game\");\n    setCounter(gameTime);\n    setDice(allNewDice());\n    setTenzies(false);\n  }\n\n  React.useEffect(() => {\n    endGame();\n  }, [dice]);\n  React.useEffect(() => {\n    if (counter > 0) {\n      setTimeout(() => setCounter(counter - 1), 2000);\n    }\n\n    if (counter === 0) {\n      swal(\"游戏结束再试\");\n    }\n  }, [counter]);\n  const [show, setShow] = React.useState(\"\");\n\n  function showInfo() {\n    swal(\"滚动直到所有的骰子都一样。点击每个骰子，在两次滚动之间将其冻结在当前值。如果你在规定的时间内匹配所有的数字，你就会赢得奖品!\");\n  }\n\n  function toggleShow() {\n    setShow(prevShow => !prevShow);\n  }\n\n  const [highScores, setHighScores] = React.useState([{\n    name: \"Test Name\",\n    score: recordTime\n  }]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container\",\n      children: [tenzies && /*#__PURE__*/_jsxDEV(Confetti, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rules\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-info\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Dice Game\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Question, {\n                handleClick: showInfo,\n                toggle: toggleShow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dice-container\",\n            children: [diceEl, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-timer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"roll-btn\",\n              onClick: tenzies || counter === 0 ? newGame : roll,\n              children: tenzies || counter === 0 ? \"New Game\" : \"Roll\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), !tenzies && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timer\",\n              children: counter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(HighScores, {\n          highScores: highScores,\n          recordTime: recordTime,\n          gameTime: gameTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"h9cUBd3jNPnnc25rnAmrYLH3YZw=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Die","nanoid","Confetti","swal","Question","HighScores","Highscore","App","randomNumberCreator","min","max","Math","floor","random","dice","setDice","useState","allNewDice","isHeld","setIsHeld","tenzies","setTenzies","generateNewDie","ceil","value","id","newDice","i","push","diceEl","map","die","holdDice","oldDice","localStorage","clear","roll","counter","setCounter","gameTime","recordTime","setRecordTime","getItem","setItem","endGame","every","newGame","console","log","useEffect","setTimeout","show","setShow","showInfo","toggleShow","prevShow","highScores","setHighScores","name","score"],"sources":["/Users/Thelazyboon/Documents/GitHub/Dice-Game-Done/src/App.js"],"sourcesContent":["import React from \"react\";\n\nimport Die from \"./Die\";\nimport \"./style.css\";\nimport { nanoid } from \"nanoid\";\nimport Confetti from \"react-confetti\";\nimport swal from \"sweetalert\";\nimport Question from \"./Question.js\";\nimport HighScores from \"./HighScores\";\nimport Highscore from \"./HighScore\";\n\n// extra ideas\n// track number of rolls\n\nfunction App() {\n  // make date\n  // const date = new Date().getMilliseconds();\n\n  // make random number\n  function randomNumberCreator(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n\n  // let randomNumber;\n\n  //----------------------------- #method B (my original way)\n\n  // const dice = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n\n  // const diceElements = dice.map((die) => {\n  //   randomNumber = randomNumberCreator(0, 6);\n  //   return <Die key={`die ${die + date}  `} value={randomNumber} />;\n  // });\n\n  //--------------------------- #method A (teacher's way\n\n  let random;\n\n  const [dice, setDice] = React.useState(allNewDice());\n  const [isHeld, setIsHeld] = React.useState(false);\n  const [tenzies, setTenzies] = React.useState(false);\n\n  function generateNewDie() {\n    random = Math.ceil(Math.random() * 6);\n\n    return {\n      isHeld: false,\n      value: random,\n      id: nanoid(),\n    };\n  }\n\n  function allNewDice() {\n    const newDice = [];\n    for (let i = 0; i < 10; i++) {\n      newDice.push(generateNewDie());\n    }\n    return newDice;\n  }\n\n  const diceEl = dice.map((die) => (\n    <Die key={die.id} value={die.value} isHeld={die.isHeld} holdDice={() => holdDice(die.id)} />\n  ));\n\n  function holdDice(id) {\n    setDice((oldDice) =>\n      oldDice.map((die) => {\n        return die.id === id ? { ...die, isHeld: !die.isHeld } : die;\n      })\n    );\n  }\n\n  localStorage.clear();\n\n  function roll() {\n    counter == 0 && setCounter(gameTime);\n    setDice((oldDice) =>\n      oldDice.map((die) => {\n        return die.isHeld === true ? die : generateNewDie();\n      })\n    );\n  }\n\n  // New Feature - save the best times to local storage\n  // const storedTime = localStorage.getItem(\"recordTime\");\n\n  const [recordTime, setRecordTime] = React.useState(localStorage.getItem(\"recordTime\"));\n  localStorage.setItem(\"recordTime\", recordTime);\n  // localStorage.setItem(\"recordTime\", recordTime);\n  // setRecordTime(storedTime);\n  //\n\n  function endGame() {\n    if (dice.every((die) => die.value === dice[0].value && die.isHeld === true)) {\n      setTenzies(true);\n      swal(\"祝贺你，安妮，你赢得了一张晚餐的优惠券。\");\n      setRecordTime(gameTime - counter);\n      localStorage.setItem(\"recordTime\", recordTime);\n    }\n  }\n\n  const [counter, setCounter] = React.useState(\"\");\n  const gameTime = 15;\n\n  function newGame() {\n    console.log(\"new game\");\n    setCounter(gameTime);\n    setDice(allNewDice());\n    setTenzies(false);\n  }\n\n  React.useEffect(() => {\n    endGame();\n  }, [dice]);\n\n  React.useEffect(() => {\n    if (counter > 0) {\n      setTimeout(() => setCounter(counter - 1), 2000);\n    }\n    if (counter === 0) {\n      swal(\"游戏结束再试\");\n    }\n  }, [counter]);\n\n  const [show, setShow] = React.useState(\"\");\n\n  function showInfo() {\n    swal(\n      \"滚动直到所有的骰子都一样。点击每个骰子，在两次滚动之间将其冻结在当前值。如果你在规定的时间内匹配所有的数字，你就会赢得奖品!\"\n    );\n  }\n\n  function toggleShow() {\n    setShow((prevShow) => !prevShow);\n  }\n\n  const [highScores, setHighScores] = React.useState([{ name: \"Test Name\", score: recordTime }]);\n\n  return (\n    <div className=\"game\">\n      <main className=\"container\">\n        {tenzies && <Confetti />}\n        <div className=\"app-container\">\n          <div className=\"app\">\n            <div className=\"rules\">\n              <div className=\"header-info\">\n                {\" \"}\n                <h2>Dice Game</h2>\n                <Question handleClick={showInfo} toggle={toggleShow} />\n              </div>\n            </div>\n            <div className=\"dice-container\">{diceEl} </div>\n            <div className=\"btn-timer\">\n              <button className=\"roll-btn\" onClick={tenzies || counter === 0 ? newGame : roll}>\n                {tenzies || counter === 0 ? \"New Game\" : \"Roll\"}\n              </button>\n              {!tenzies && <div className=\"timer\">{counter}</div>}\n            </div>\n          </div>\n          <HighScores highScores={highScores} recordTime={recordTime} gameTime={gameTime} />\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}